<style>
  .form-control {
    background-color: transparent;
    color: #ffffff;
    border: 1px solid #ced4da;
  }
  .form-control:focus {
    background-color: unset;
    border: 1px solid #ced4da;
    box-shadow: none;
    color: white;
  }
  .-trial-container {
    padding: 10 !important;
    background: linear-gradient(
      180deg,
      rgba(249, 249, 249, 1) 34%,
      rgba(117, 189, 196, 1) 34%,
      rgba(69, 166, 176, 1) 89%
    );
  }
  .-trial-container h1,
  .-trial-container h4 {
    color: white;
    font-weight: 300;
    text-align: center;
  }

  .-trial-form {
    padding: 10px;
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
  }

  .-trial-form input {
    margin: 5px;
  }
  .-trial-form input::placeholder {
    color: white;
    opacity: 0.7;
  }
  .-trial-form input[type="number"]::-webkit-inner-spin-button,
  .-trial-form input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  #formSuccessMessage {
    color: #fff;
    padding: 20px;
    text-align: center;
    font-size: 2em;
  }
  .cargo_select {
    margin: 3px 0 3px 5px;
  }
  .form-check-label {
    color: gray;
  }
  option {
    color: gray;
  }
  .form-check-label {
    margin-left: 2vw;
    color: white;
  }
  .form-privacy {
    color: white;
  }
  @media (max-width: 768px) {
    .-trial-container h4 {
      font-size: 1em;
    }
    .-trial-container .form-control {
      font-size: 0.9em;
    }
    #slide {
      display: none;
    }
    .-trial-container {
      height: auto;
      padding: 8 !important;
      background-image: linear-gradient(230deg, #18879e 0%, #80d0c7 100%);
    }
  }
</style>
<style>
  #carouselExampleControls {
    background: url("/assets/img/lgpd/notebook.webp");
    background-repeat: no-repeat;
    background-position: center;
    height: 500px;
    background-size: contain;
  }
  .control {
    background-color: teal;
  }
  .img-small {
    max-width: 660px;
  }
  .img-slide {
    max-width: 650px;
  }
  @media only screen and (max-width: 768px) {
    .img-slide {
      max-width: 550px;
      margin-top: 5vh;
    }
  }
  @media only screen and (max-width: 767px) {
    #carouselExampleControls {
      display: none;
    }
  }
</style>
<div class="container-fluid p-0 m-0 -trial-container" id="trial-container">
  <div class="container-fluid">
    <div
      id="carouselExampleControls"
      class="carousel slide"
      data-ride="carousel"
    >
      <div class="container text-center">
        <div class="carousel-inner text-center">
          <div class="carousel-item active">
            <img
              class="py-4 w-100 img-slide img-fluid"
              src="/assets/img/lgpd/slide1.webp"
              alt="First slide"
            />
          </div>
          <div class="carousel-item">
            <img
              class="py-4 w-100 img-slide img-fluid"
              src="/assets/img/lgpd/slide2.webp"
              alt="First slide"
            />
          </div>
          <div class="carousel-item">
            <img
              class="py-4 w-100 img-slide img-fluid"
              src="/assets/img/lgpd/slide3.webp"
              alt="First slide"
            />
          </div>
          <div class="carousel-item">
            <img
              class="py-4 w-100 img-small img-fluid"
              src="/assets/img/lgpd/slide4.webp"
              alt="First slide"
            />
          </div>
          <div class="carousel-item">
            <img
              class="py-4 w-100 img-slide img-fluid"
              src="/assets/img/lgpd/slide5.webp"
              alt="First slide"
            />
          </div>
          <div class="carousel-item">
            <img
              class="py-4 w-100 img-slide img-fluid"
              src="/assets/img/lgpd/slide6.webp"
              alt="First slide"
            />
          </div>
          <div class="carousel-item">
            <img
              class="py-4 w-100 img-slide img-fluid"
              src="/assets/img/lgpd/slide7.webp"
              alt="First slide"
            />
          </div>
          <div class="carousel-item">
            <img
              class="py-4 w-100 img-slide img-fluid"
              src="/assets/img/lgpd/slide8.webp"
              alt="First slide"
            />
          </div>
        </div>
      </div>

      <a
        class="carousel-control-prev"
        href="#carouselExampleControls"
        role="button"
        data-slide="prev"
      >
        <span
          class="carousel-control-prev-icon control"
          aria-hidden="true"
        ></span>
        <span class="sr-only">Previous</span>
      </a>
      <a
        class="carousel-control-next"
        href="#carouselExampleControls"
        role="button"
        data-slide="next"
      >
        <span
          class="carousel-control-next-icon control"
          aria-hidden="true"
        ></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

  <div class="row">
    <div
      class="col d-flex flex-column justify-content-center align-items-center pt-5 mt-5"
    >
      <h1 class="text-center text-bolder">{{ include.title }}</h1>
      <h4>
        É grátis! Um de nossos especialistas está pronto para tirar todas as
        suas dúvidas.
      </h4>
    </div>
  </div>
  <div class="row">
    <div
      class="col d-flex flex-column justify-content-center align-items-center"
    >
      <form class="-trial-form pb-5" id="{{ include.id }}">
        <div class="form-row">
          <div class="col">
            <input
              aria-label="Primeiro nome."
              class="form-control"
              type="text"
              name="firstname"
              id="name"
              placeholder="Nome"
              required
              oninvalid="this.setCustomValidity('Por favor, digite seu nome.')"
              oninput="setCustomValidity('')"
            />
          </div>
          <div class="col">
            <input
              aria-label="Sobrenome"
              class="form-control"
              type="text"
              name="lastname"
              id="lastname"
              placeholder="Sobrenome"
              required
              oninvalid="this.setCustomValidity('Por favor, digite seu sobrenome.')"
              oninput="setCustomValidity('')"
            />
          </div>
        </div>
        <div class="form-row">
          <div class="col">
            <input
              aria-label="E-mail profissional."
              class="form-control"
              type="text"
              name="email"
              id="email"
              placeholder="E-mail profissional"
              required
              oninvalid="this.setCustomValidity('Por favor, digite um e-mail profissional válido.')"
              oninput="setCustomValidity('')"
            />
          </div>
          <div class="col">
            <select
              id="inputState"
              class="form-control cargo_select"
              style="color: rgba(255, 255, 255, 0.76)"
            >
              <option disabled selected>Cargo</option>
              <option value="Analista">Analista</option>
              <option value="Auditor">Auditor</option>
              <option value="Advogado">Advogado</option>
              <option value="CEO">CEO</option>
              <option value="Coordenador">Coordenador</option>
              <option value="DBA">DBA</option>
              <option value="Diretor">Diretor</option>
              <option value="Engenheiro">Engenheiro</option>
              <option value="Gerente">Gerente</option>
              <option value="Supervisor">Supervisor</option>
              <option value="Técnico">Técnico</option>
              <option value="Outro">Outro</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="col">
            <select
              id="inputState"
              class="form-control cargo_select"
              style="color: rgba(255, 255, 255, 0.76)"
            >
              <option disabled selected>Departamento</option>
              <option value="Analista">Administrativo/Financeiro</option>
              <option value="Auditor">Auditoria/Compliance</option>
              <option value="Advogado">Jurídico</option>
              <option value="CEO">Logística/Compras</option>
              <option value="Coordenador">Pesquisa e Desenvolvimento</option>
              <option value="DBA">Projetos</option>
              <option value="Diretor">Segurança da Informação</option>
              <option value="Engenheiro">TI e Infraestrutura</option>
              <option value="Gerente">Outro</option>
            </select>
          </div>
          <div class="col">
            <input
              style="color: black"
              aria-label="E-mail profissional."
              class="form-control"
              type="text"
              name="company"
              id="company"
              placeholder="Empresa"
              required
              oninvalid="this.setCustomValidity('Por favor, digite um e-mail profissional válido.')"
              oninput="setCustomValidity('')"
            />
          </div>
        </div>

        <div class="form-row">
          <div class="col">
            <input
              aria-label="Número de telefone."
              class="form-control"
              type="tel"
              name="phone"
              id="phone"
              placeholder="Telefone"
              required
              oninvalid="this.setCustomValidity('Por favor, digite seu telefone.')"
              oninput="setCustomValidity('')"
            />
          </div>
          <div class="col">
            <input
              aria-label="Ramal."
              class="form-control"
              type="number"
              name="branch"
              id="branch"
              placeholder="Ramal"
              maxlength="5"
            />
          </div>
        </div>
        <div class="form-row py-3 justify-content-center">
          <div class="form-check">
            <input
              name="check_box"
              class="form-check-input"
              type="checkbox"
              value="Eu concordo em receber comunicações"
              id="Concorda receber comunicacoes"
              required
            />
            <label class="form-check-label" for="Concorda receber comunicacoes">
              Concordo em receber comunicações
            </label>
          </div>
        </div>
        <div class="form-row py-1 justify-content-center">
          <p class="form-privacy">
            Ao informar meus dados, eu concordo com a
            <a href="/politica/" style="color: white"
              ><strong>Política de Privacidade</strong></a
            >
          </p>
        </div>
        <div class="form-row">
          <div
            class="col d-flex justify-content-center align-items-center py-3"
          >
            <input
              aria-label="Enviar solicitação."
              type="submit"
              value="Enviar solicitação"
              class="btn btn-trial"
            />
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<script src="../../assets/js/dist/jquery.min.js"></script>
<script src="../../assets/js/formMask.js"></script>
<script src="/assets/js/phoneMask.js"></script>
<script>
  const form = document.getElementById("trialForm");
  const url = "https://us-central1-aiqondb.cloudfunctions.net/api/trial";

  form.addEventListener("submit", function (e) {
    e.preventDefault();
    console.log("Enviando formulário...");

    const formData = new FormData(this);
    const origin = window.location.pathname;
    const trialRequestJson = {};

    for (const pair of formData) {
      trialRequestJson[pair[0]] = pair[1];
    }
    trialRequestJson["origin"] = origin;
    fetch(url, {
      method: "post",
      body: JSON.stringify(trialRequestJson),
      mode: "cors",
      headers: {
        "Content-Type": "application/json",
      },
      credentials: "same-origin",
    })
      .then(formSuccess())
      .catch(function (err) {
        console.log("Ocorreu um erro: ", err);
      });
  });

  // function formSuccess() {
  // const form = document.querySelector(".-trial-container")
  // const formFields = document.querySelectorAll("input")
  // for (field of formFields) {
  //   field.value = ""
  // }
  // form.innerHTML = `<p id='formSuccessMessage'>
  //     Mensagem enviada! <br> Entraremos em contato em breve.
  //   </p>`
  // window.location.href = "/obrigado"
  //}
</script>
